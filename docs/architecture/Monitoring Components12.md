[{'id': 'app-metrics-prometheus', 'name': 'Application & Transformation Engine Metrics', 'type': 'APM', 'description': 'Exposes key performance and health metrics from the .NET backend and the Jint transformation engine via a Prometheus-compatible `/metrics` endpoint. This component directly fulfills REQ-OPER-DTR-001 and is essential for performance analysis (REQ-PERF-DTR-001) and meeting performance benchmarks (REQ-PERF-DTR-002).', 'provider': 'prometheus-net', 'features': ['Custom Histogram for script execution times (average, max, p95).', 'Custom Gauge for script execution memory usage.', 'Custom Counters for total executions, timeouts, constraint violations, and script errors.', 'Standard ASP.NET Core metrics (request rate, latency, error count).', 'Redis client performance metrics.'], 'configuration': {'EndpointPath': '/metrics', 'Metrics': [{'name': 'transformation_script_execution_seconds', 'type': 'Histogram', 'labels': ['script_id', 'report_id']}, {'name': 'transformation_script_events_total', 'type': 'Counter', 'labels': ['script_id', 'event_type']}]}}, {'id': 'centralized-logging', 'name': 'Centralized Application Logging', 'type': 'LogAggregation', 'description': 'Centralizes structured logs from the application for diagnostics, security analysis, and performance troubleshooting. This is a critical component for investigating script exceptions (REQ-FUNC-DTR-003), sandbox violations (REQ-SEC-DTR-002), timeouts (REQ-PERF-DTR-001), and internal engine failures (REQ-REL-DTR-001). It complements, but does not replace, the immutable database audit trail.', 'provider': 'Serilog', 'features': ['Structured JSON logging for easy parsing and querying.', 'Log enrichment with contextual data like CorrelationID, UserID, and RequestPath.', 'Configurable sinks to send logs to a centralized platform (e.g., Elasticsearch, Loki, Splunk).', 'Dynamic log level control without application restart.'], 'configuration': {'MinimumLogLevel': 'Information', 'DefaultSink': 'Console (for containerized environments)', 'ProductionSink': 'Configured for a central log aggregator via TCP/HTTP.', 'StructuredLogFormat': 'JSON'}}, {'id': 'service-health-checks', 'name': 'Service Health Checks', 'type': 'ServiceHealthMonitoring', 'description': 'Provides a dedicated HTTP endpoint to report the real-time health of the application and its critical dependencies (PostgreSQL, Redis). This is essential for automated monitoring systems to track service availability and meet the 99.9% target defined in REQ-OPER-DTR-003.', 'provider': 'AspNetCore.HealthChecks', 'features': ['Aggregated health status endpoint (e.g., /healthz).', 'Out-of-the-box checks for PostgreSQL database connectivity.', 'Out-of-the-box checks for Redis cache connectivity.', 'UI for visualizing health check status during development and troubleshooting.'], 'configuration': {'EndpointPath': '/healthz', 'DatabaseCheckTimeout': '5s', 'CacheCheckTimeout': '3s'}}, {'id': 'infra-dependency-monitoring', 'name': 'Infrastructure & Dependency Monitoring', 'type': 'InfrastructureMonitoring', 'description': 'Monitors the health and performance of the underlying infrastructure and services upon which the application depends, such as the host server, PostgreSQL database, and Redis cache. This provides essential context for diagnosing application performance issues and ensuring the platform meets its availability SLA (REQ-OPER-DTR-003).', 'provider': 'Prometheus Exporters (Node, PostgreSQL, Redis)', 'features': ['Server resource monitoring (CPU, memory, disk I/O, network) via node_exporter.', 'PostgreSQL performance monitoring (active connections, query performance, transaction rates, replication lag) via postgres_exporter.', 'Redis performance monitoring (memory usage, keyspace, hit/miss ratio, connected clients) via redis_exporter.'], 'configuration': {'ScrapeInterval': '30s', 'ExporterTargets': 'Defined in Prometheus configuration file.', 'AlertingRules': 'Thresholds for high CPU, low disk space, high DB connection count, and high cache eviction rate.'}}]

